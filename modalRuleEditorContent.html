<div class="modal-header">
  <h3 class="modal-title">{{ruleSelected.rule_id == -1 ? "Add" : "Edit"}} rule</h3>
</div>
<div class="modal-body">
  <form class="form-horizontal" name="addrule" novalidate>

    <div class="form-group">
      <label class="control-label col-xs-2">Name</label>
      <div class="col-xs-10">
        <input type="text" class="form-control" placeholder="Deny SSH to Inside" name="Name" ng-model="ruleSelected.name" ng-required="true">
        <span class="text-danger" data-ng-show="addrule.submitted && addrule.Name.$invalid">Name is required</span>
      </div>
    </div>

    <div class="form-group">
      <label class="control-label col-xs-2">User</label>
      <div class="col-xs-10">
        <input type="text" class="form-control" placeholder="Any" name="User" ng-model="ruleSelected.user" ng-required="true">
        <span class="text-danger" data-ng-show="addrule.submitted && addrule.User.$invalid">User is required</span>
      </div>
    </div>

    <div class="form-group">
      <label class="control-label col-xs-2">Application</label>
      <div class="col-xs-10">
        <input type="text" class="form-control" placeholder="SSH" name="Application" ng-model="ruleSelected.application" ng-required="true">
        <span class="text-danger" data-ng-show="addrule.submitted && addrule.Application.$invalid">Application is required</span>
      </div>
    </div>

    <div class="form-group">
      <label class="control-label col-sm-2">Source</label>
      <div class="col-sm-2">
        <select
          class="form-control"
          ng-options="option.name for option in data.availableZones track by option.id"
          ng-model="ruleSelected.sourceZone"></select>
      </div>
      <div class="col-xs-8">
        <input type="text" class="form-control" placeholder="10.10.0.0/16" netmask name="SourceAddress" ng-model="ruleSelected.sourceAddress" ng-required="true">
        <span class="text-danger" data-ng-show="addrule.submitted && addrule.SourceAddress.$error.required">SourceAddress is required<br></span>
        <span class="text-danger" data-ng-show="addrule.submitted && addrule.SourceAddress.$error.netmask">SourceAddress is not valid netmask</span>
      </div>
    </div>

    <div class="form-group">
      <label class="control-label col-sm-2">Destination</label>
      <div class="col-sm-2">
        <select
          class="form-control"
          ng-options="option.name for option in data.availableZones track by option.id"
          ng-model="ruleSelected.destinationZone"></select>
      </div>
      <div class="col-xs-6">
        <input class="form-control" placeholder="0.0.0.0/0" netmask name="DestinationAddress" ng-model="ruleSelected.destinationAddress" ng-required="true">
        <span class="text-danger" data-ng-show="addrule.submitted && addrule.DestinationAddress.$error.required">DestinationAddress is required<br></span>
        <span class="text-danger" data-ng-show="addrule.submitted && addrule.DestinationAddress.$error.netmask">DestinationAddress is not valid netmask</span>
      </div>
      <div class="col-xs-2">
        <input type="number" class="form-control" min="1" max="65535" port name="DestinationPort" ng-model="ruleSelected.destinationPort" ng-required="true">
        <span class="text-danger" data-ng-show="addrule.submitted && addrule.DestinationPort.$error.required">Port required<br></span>
        <span class="text-danger" data-ng-show="addrule.submitted && addrule.DestinationPort.$error.port">Port not valid</span>
      </div>
    </div>

    <div class="form-group">
      <label class="control-label col-xs-2">Action</label>
      <div class="col-xs-10">
        <select
          class="form-control"
          ng-options="option.name for option in data.availableActions track by option.id"
          ng-model="ruleSelected.action"></select>
      </div>
    </div>

  </form>
</div>
<div class="modal-footer">
    <button class="btn btn-primary" type="button" ng-click="save()">{{ruleSelected.rule_id == -1 ? "Save" : "Edit"}}</button>
    <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>
</div>
